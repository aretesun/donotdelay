<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미루지마! - 목표 관리</title>
    <meta name="description" content="미루기를 멈추고 목표를 달성하세요">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1><span class="emoji">⏰</span> <span class="text">미루지마!</span></h1>
            <p class="subtitle">오늘 가장 중요한 일, 지금 바로 시작하세요!</p>
            <button id="dark-mode-toggle" class="icon-btn" aria-label="다크모드 전환">
                <span class="sun">☀️</span>
                <span class="moon">🌙</span>
            </button>
        </header>

        <!-- Goal Input Form (Main Feature) -->
        <section class="input-section">
            <div class="goal-input-card">
                <h2>새 목표 추가</h2>

                <div class="goal-input-form">
                    <input
                        type="text"
                        id="goal-input"
                        placeholder="예: 프로젝트 기획서 작성하기"
                        maxlength="100"
                    >

                    <div class="goal-options">
                        <div class="option-group">
                            <label>예상 시간:</label>
                            <select id="estimated-time">
                                <option value="15">15분</option>
                                <option value="30" selected>30분</option>
                                <option value="60">1시간</option>
                                <option value="120">2시간</option>
                                <option value="180">3시간</option>
                                <option value="240">4시간+</option>
                            </select>
                        </div>

                        <div class="option-group">
                            <label>중요도:</label>
                            <div class="importance-selector">
                                <button class="importance-btn" data-level="1">⭐</button>
                                <button class="importance-btn" data-level="2">⭐⭐</button>
                                <button class="importance-btn active" data-level="3">⭐⭐⭐</button>
                                <button class="importance-btn" data-level="4">⭐⭐⭐⭐</button>
                                <button class="importance-btn" data-level="5">⭐⭐⭐⭐⭐</button>
                            </div>
                        </div>
                    </div>

                    <button id="add-goal-btn" class="btn-primary">➕ 목표 추가</button>
                </div>
            </div>
        </section>

        <!-- Pomodoro Timer Section (Collapsible) -->
        <section class="pomodoro-section collapsed">
            <button class="pomodoro-toggle-btn" id="pomodoro-toggle">
                <span class="toggle-icon">🍅</span>
                <span class="toggle-text">Work with Me 타이머</span>
                <span class="toggle-arrow">▼</span>
            </button>

            <div class="pomodoro-card" id="pomodoro-card">
                <div class="pomodoro-header">
                    <h2><span class="emoji">🍅</span> <span class="text">Work with Me</span></h2>
                    <p class="pomodoro-subtitle">함께 집중해요!</p>
                </div>

                <div class="pomodoro-timer" id="pomodoro-timer-container">
                    <!-- SVG Circle Timer -->
                    <svg class="pomodoro-circle-svg" viewBox="0 0 300 300">
                        <defs>
                            <linearGradient id="pomodoro-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#ec4899;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle
                            class="pomodoro-circle-bg"
                            cx="150"
                            cy="150"
                            r="140"
                        />
                        <circle
                            id="pomodoro-circle"
                            class="pomodoro-circle-progress"
                            cx="150"
                            cy="150"
                            r="140"
                            stroke="url(#pomodoro-gradient)"
                        />
                    </svg>

                    <!-- Timer Content -->
                    <div class="pomodoro-content">
                        <div id="pomodoro-mode" class="pomodoro-mode">집중 시간</div>
                        <div id="pomodoro-time" class="pomodoro-time">25:00</div>
                        <div id="pomodoro-session" class="pomodoro-session">세션 0</div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="pomodoro-controls">
                    <button id="pomodoro-start" class="btn-pomodoro btn-pomodoro-primary">
                        ▶️ 시작
                    </button>
                    <button id="pomodoro-pause" class="btn-pomodoro btn-pomodoro-warning" style="display: none;">
                        ⏸️ 일시정지
                    </button>
                    <button id="pomodoro-reset" class="btn-pomodoro btn-pomodoro-secondary">
                        🔄 리셋
                    </button>
                </div>

                <!-- Mode Switchers -->
                <div class="pomodoro-modes">
                    <button id="mode-focus" class="mode-btn active">집중 (25분)</button>
                    <button id="mode-break" class="mode-btn">휴식 (5분)</button>
                    <button id="mode-longbreak" class="mode-btn">긴 휴식 (15분)</button>
                </div>

                <!-- Pomodoro Stats -->
                <div class="pomodoro-stats">
                    <div class="pomodoro-stat-item">
                        <div class="pomodoro-stat-number" id="pomodoro-today-sessions">0</div>
                        <div class="pomodoro-stat-label">오늘 세션</div>
                    </div>
                    <div class="pomodoro-stat-item">
                        <div class="pomodoro-stat-number" id="pomodoro-total-focus">0m</div>
                        <div class="pomodoro-stat-label">총 집중 시간</div>
                    </div>
                </div>

                <!-- Ambient Sounds -->
                <div class="ambient-sounds">
                    <h3>🎵 집중 사운드</h3>
                    <div class="ambient-controls">
                        <button class="ambient-btn" data-sound="whitenoise">
                            <span class="ambient-icon">🌊</span>
                            <span class="ambient-label">백색소음</span>
                        </button>
                        <button class="ambient-btn" data-sound="rain">
                            <span class="ambient-icon">🌧️</span>
                            <span class="ambient-label">빗소리</span>
                        </button>
                        <button class="ambient-btn" data-sound="cafe">
                            <span class="ambient-icon">☕</span>
                            <span class="ambient-label">카페</span>
                        </button>
                        <button class="ambient-btn" data-sound="forest">
                            <span class="ambient-icon">🌲</span>
                            <span class="ambient-label">숲</span>
                        </button>
                    </div>
                    <div class="volume-control">
                        <span class="volume-icon">🔉</span>
                        <input type="range" id="ambient-volume" min="0" max="100" value="50" class="volume-slider">
                        <span class="volume-value">50%</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tabs -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="all">모든 목표</button>
            <button class="tab-btn" data-tab="delaying">미루는 중 🔥</button>
            <button class="tab-btn" data-tab="completed">완료됨 ✅</button>
        </nav>

        <!-- Goals Lists -->
        <section class="goals-section">
            <!-- All Goals -->
            <div id="all-tab" class="tab-content active">
                <div id="active-goals-list" class="goals-list"></div>
                <div id="all-empty" class="empty-state">
                    <p>목표를 추가해보세요! 💪</p>
                </div>
            </div>

            <!-- Delaying Goals -->
            <div id="delaying-tab" class="tab-content">
                <div class="warning-banner" id="delaying-warning" style="display: none;">
                    <p><span class="emoji">⚠️</span> 미루고 있는 목표들입니다. 지금 바로 시작하세요!</p>
                </div>
                <div id="delaying-goals-list" class="goals-list"></div>
                <div id="delaying-empty" class="empty-state">
                    <p>👏 미루는 목표가 없어요! 멋져요!</p>
                </div>
            </div>

            <!-- Completed Goals -->
            <div id="completed-tab" class="tab-content">
                <div id="completed-goals-list" class="goals-list"></div>
                <div id="completed-empty" class="empty-state">
                    <p>아직 완료한 목표가 없습니다.</p>
                    <p>첫 번째 목표를 완료해보세요!</p>
                </div>
            </div>
        </section>

        <!-- Statistics -->
        <section class="stats-section">
            <h2>📊 나의 통계</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-completed">0</div>
                    <div class="stat-label">완료한 목표</div>
                </div>

                <div class="stat-card">
                    <div class="stat-number" id="completion-rate">0%</div>
                    <div class="stat-label">완료율</div>
                </div>

                <div class="stat-card">
                    <div class="stat-number" id="current-streak">0</div>
                    <div class="stat-label">연속 달성</div>
                </div>

                <div class="stat-card">
                    <div class="stat-number" id="avg-delays">0</div>
                    <div class="stat-label">평균 미루기</div>
                </div>
            </div>
        </section>

        <footer>
            <p>미루지 말고, 지금 하세요! 💪</p>
        </footer>
    </div>

    <!-- Confetti Canvas -->
    <canvas id="confetti-canvas"></canvas>

    <!-- Emoji Rain Container -->
    <div id="emoji-rain-container"></div>

    <!-- YouTube Player (hidden) -->
    <div id="youtube-player" style="display: none;"></div>

    <!-- YouTube iframe API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="app.js"></script>
</body>
</html>
